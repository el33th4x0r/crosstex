\documentclass{article}
\usepackage{hyperref}

%HEVEA \renewcommand{\TeX}{TeX}
%HEVEA \renewcommand{\LaTeX}{LaTeX}
\newcommand{\XTeX}{Cross\TeX}
\newcommand{\BibTeX}{\textsc{Bib}\TeX}

%HEVEA \renewcommand{\par}{\begin{rawhtml}<p>\end{rawhtml}}

\title{\XTeX{} Tutorial}
\author{Emin G\"un Sirer and Robert Burgess}
\date{}

\begin{document}
\maketitle

\textit{This tutorial will show you everything you need to know about \XTeX{}. It assumes basic familiarity with \BibTeX{}. You should have \XTeX{} installed.}

\XTeX{} is a modern bibliography typesetting tool that works in conjunction with \LaTeX{}. It first builds an object hierarchy based on the bibliography database. Then it parses the text at hand to determine which objects are being cited. Then it formats these objects according to the style selected in the document, as modified by the command line options. It then produces a references section that \LaTeX{} can incorporate into the original document.

%HEVEA \begin{small}(This document is also available in \href{crosstex.pdf}{PDF}.)\end{small}



\section{Quick start}

First, make sure \XTeX{} is installed. Then, where you used to type:

\begin{small}\begin{verbatim}
$ latex paper  # Generate the .aux file
$ bibtex paper # Generate the .bbl file
$ latex paper  # Incorporate the bibliographic information
$ latex paper  # Get the labels right
\end{verbatim}\end{small}

Instead use:

\begin{small}\begin{verbatim}
$ latex paper    # Generate the .aux file
$ crosstex paper # Generate the .bbl file
$ latex paper    # Incorporate the bibliographic information
$ latex paper    # Get the labels right
\end{verbatim}\end{small}

\XTeX{} is backwards-compatible with \BibTeX{} and supports the standard \texttt{abbrv}, \texttt{alpha}, \texttt{full}, and \texttt{plain} bibliography styles.



\section{Invoking \texttt{crosstex}}

In its most simply invocation, \texttt{crosstex} simply takes one or more file names, e.g. \texttt{crosstex \textrm{\textit{file1 file2 ...}}}. Each file is processed separately. Files are found in a search path containing the current directory and a central system directory (e.g. \texttt{/usr/share/texmf/crosstex}); this search path can be extended with the \texttt{--dir} option. Extensions (\texttt{.aux}, \texttt{.xtx}, \texttt{.bib}) will be added if left unspecified. The output is always in the current directory, under the same name as the file being processed with the extension changed to \texttt{.bbl}, appropriate to be picked up by \LaTeX{}.

If \texttt{crosstex} is invoked as \texttt{xtx2bib} or the \texttt{--xtx2bib} option is given, the output extension will be \texttt{.bib}; the bibliographic information is back-converted to plain \BibTeX{}.

If \texttt{crosstex} is invoked as \texttt{xtx2html} or the \texttt{--xtx2html} option is given, the output extension will be \texttt{.html}; some style information will be changed as appropriate for formatting a web bibliography, and the output is wrapped into a \LaTeX{} document and translated into HTML by piping it through \texttt{hevea}. (Sometimes it is necessary to run this more than once to get labels right, as with \LaTeX{}; \texttt{hevea} will print an appropriate message if needed.) By default, the style used for HTML is pretty non-traditional, but can of course be overridden by further options: \texttt{xtx2html --style plain \textrm{\textit{file}}} looks nice and tame.

A number of options can be specified to change the style of the bibliography to override or tweak that specified by a document.

\paragraph{Abbreviation}

The \texttt{--short} option allows many kinds of objects to be abbreviated in the bibliography. For example, to use shortened month names (`Jan.', `Feb.') instead of long ones (`January', `February'), simply use the option \texttt{--short month}. This allows the creators of the database to specify both month names just once, refer to the relevant \texttt{month} objects in their entries, and the formatting of month names to be consistently chosen when the bibliography is formatted.

Anything with a name can be abbreviated this way---so a conference can be shortened from ``Networked Systems Design and Implementation'' to ``NSDI'' when under the space crunch or filled back out later with a simple option. Databases mention each name only once, and, even more importantly, what name to use is left to the document and the user and is not imposed on the database maintainer.

Objects that can be shortened include \texttt{author}, \texttt{conference}, \texttt{conferencetrack}, \texttt{country}, \texttt{journal}, \texttt{month}, \texttt{state}, \texttt{string}, and \texttt{workshop}.

\paragraph{Authors}

Author names can be complicated, and are the source of much confusion in \BibTeX{}. The same author might appear with a middle name, without a middle name, last name first, with abbreviated first names, or even mis-spelled. And how do you represent ``Louis de Vargas, III''?

In \XTeX{}, the database maintainer enters the name just once, and it's all sorted out by options. The \texttt{--short author} option generates abbreviated author names such as ``E. G. Sirer'' automatically if an author doesn't have an explicitly mentioned short name, and \XTeX{} careful to handle complicated names with accents and modifiers correctly when abbreviating and sorting without any help at all.

\paragraph{Titles}

Title case is one of the most common inconsistencies. With \XTeX{} it is simple: \texttt{--titlecase lower} will make everything but the first letter lower-case. For all upper-case titles, it's just a matter of \texttt{--titlecase upper}. Finally, \texttt{--titlecase title} raises the case of the first letter of each word, but is careful about small words and known acronyms and phrases such as ``BGP'' and ``Peer-to-Peer''. Words in braces are protected, and it is always possible to just leave titles alone with \texttt{--titlecase default}. Even if the database is old and has bizarre titles, \XTeX{} can sort out the mess.

\paragraph{Proceedings}

Should a conference appear as ``In Proceedings of the Eighth'' or just ``In Proc.'' or something else entirely? It is your choice. With \texttt{--add-proceedings}, \XTeX{} will generate book titles for conferences beginning with ``In Proceedings of'', while \texttt{--add-proc} uses the shorter ``In Proc.'' and without any options, nothing is added. \texttt{--add-in} will cause ``In'' to be used for journal names in articles. As always, the choice will be applied consistently and produce more professional-looking bibliographies.

\paragraph{Sorting and headings}

By default, entries will be sorted by their citation keys, or by their authors and publication dates. The \texttt{--sort} option provides finer control over the sort order. By specifying \texttt{--sort \textrm\textit{field}}, the database will be stably sorted by field; later specifying \texttt{--sort \textrm\textit{field2}} will cause the bibliography to be sorted by field2, but the entries will still be sub-sorted by the first field. To sort in the reverse order, simply use \texttt{--reverse-sort} in the same way.

When processing large bibliographies, it can be nice to partition the entries into labeled categories. Specifying the \texttt{--heading \textrm{\textit{field}}} option specifies a field to be used to divide the entries into sections. For example, \texttt{--heading year} will cause the entries to be grouped by year and given headings for each different year. (\texttt{--reverse-heading} will reverse the order in which the sections appear.) When converting a bibliography of personal publications to HTML, for example, it might be convenient to group by an information field such as \texttt{--heading category} to nicely organize the produced bibliography.

\subsection{Usage}

\begin{small}\begin{verbatim}
usage: crosstex [options] files

A modern, object-oriented bibliographic tool intended to replace BibTeX.

options:
  --version             show program's version number and exit
  -h, --help            show this help message and exit
  -d DIR, --dir=DIR     Add a directory in which to find data files, searched
                        from last specified to first. Default: none
  --quiet               Do not sanity check the input.
  --strict              Apply stricter checks.
  --dump=TYPE           After parsing the bibliography, dump a list of all
                        objects of the type specified, or, with "file", print
                        a list of files processed.
  --cite=CITE           Cite a key exactly as with the \cite LaTeX command.
  -l FIELD, --link=FIELD
                        Add to the list of fields used to generate links.
                        LaTeX documents should make use of links by including
                        the hyperref package. When converting to html, this
                        defaults to [Abstract, URL, PS, PDF, HTML, DVI, TEX,
                        BIB, FTP, HTTP, and RTF].
  --no-link             
  --cite-by=CITE_BY     With "number", use numeric labels such as [1]. With
                        "initials", use labels based on author last-names such
                        as [SBRD04b]. With "fullname", use labels based on
                        author names such as [Sirer et al. 04].
  --style=STYLE         Use a standard style such as plain, unsrt, abbrv,
                        full, or alpha.  Options set by the style may be
                        overidden by further command-line options.
  -s FIELD, --sort=FIELD
                        Sort by specified field. Multiple sort orders are
                        applied in the order specified, e.g. "-s year -s
                        author" will cause elements to be grouped primarily by
                        author and sub-grouped by year.
  -S FIELD, --reverse-sort=FIELD
                        Exactly as --sort, but sort by descending field values
                        rather than ascending.
  --no-sort             
  --heading=FIELD       Divide entries and create headings in bibliography by
                        the value of the given field.
  --reverse-heading=FIELD
                        Divide entries and create headings in bibliography by
                        the value of the given field.
  --short=TYPE          Specify any string-like object, i.e. one with name and
                        shortname fields. Whenever possible, the short name
                        will be used, e.g. two-letter state codes for "state",
                        conference acronyms such as NSDI for "conference", or
                        initials such as E. G. Sirer for "author".
  --add-in              Add "In" for articles.
  --add-proc            Add "Proc. of" for conference and workshop
                        publications.
  --add-proceedings     Add "Proceedings of the" for conference and workshop
                        publications.
  --abstract            In the bibliography, include paper abstracts if
                        available.
  --no-abstract         
  --keywords            In the bibliography, include paper keywords if
                        available.
  --no-keywords         
  --titlecase=TITLECASE
                        In the bibliography, force titles into lower-, upper-,
                        or title-case.  Default: Leave titles unchanged.
  --title-head          In the bibliography, put the title bold and first.
  --no-title-head       
  --blank-labels        In the bibliography, leave out item labels.
  --no-blank-labels     
  --break-lines         In the bibliography, put author, title, and
                        publication information on separate lines.
  --no-break-lines      
  --xtx2bib             Convert the bibliography information to old-style
                        BibTeX.
  --xtx2html            Format the bibliography as HTML.
\end{verbatim}\end{small}



\section{Inside the \texttt{.xtx} file}

\subsection{Objects}

Everything in \XTeX{} is an object. Every object has a \textit{key} that can be used to refer to it, and \textit{fields} containing values. Here are some objects:

\begin{small}\begin{verbatim}
@month{sep, name = "September"}

@location{rio, name = "Rio de Janeiro, Brazil"}

@author{egs, name = "Emin {G\"un} Sirer"}

@article{mypaper,
	   author = egs,
	   title = "This is My Paper",
	   journal = "Journal of Improbable Results",
	   address = rio,
	   year = 2018,
	   month = sep
}
\end{verbatim}\end{small}

The first line defines a \texttt{month} object, henceforth known as \texttt{sep}, that has a single field called \texttt{name}, which consists of the string ``September''. From here on, other objects can simply refer to \texttt{sep} wherever a month is called for, and they will be referring to this object. The second line defines a \texttt{location} object named \texttt{rio}, while the third line defines an \texttt{author} object whose name requires complicated \LaTeX{} punctuation to format properly. The final entry defines an \texttt{article}, published in Rio de Janeiro in September. Note how it refers to the previous objects by their keys. The fields of \texttt{mypaper} end up as though it had been defined thus:

\begin{small}\begin{verbatim}
@article{mypaper,
	   author = "Emin {G\"un} Sirer",
	   title = "This is My Paper",
	   journal = "Journal of Improbable Results",
	   address = "Rio de Janeiro, Brazil",
	   year = 2018,
	   month = "September"
}
\end{verbatim}\end{small}

Objects can be given multiple keys, as well. Take for example the following author:

\begin{small}\begin{verbatim}
@author{rama, name="Venugopalan Ramasubramanian"}
\end{verbatim}\end{small}

However, Rama uses Venu and Arun as names for his alter egos. So we can define his object as follows:

\begin{small}\begin{verbatim}
@author{rama = arun = venu, name="Venugopalan Ramasubramanian"}
\end{verbatim}\end{small}

Thereafter, the following are equivalent.

\begin{small}\begin{verbatim}
author = "rama and egs"
author = "arun and egs"
author = "venu and egs"
\end{verbatim}\end{small}

\subsection{Representation}

Every kind of object, such as \texttt{month}, \texttt{location}, \texttt{author}, and \texttt{article}, knows how to convert itself into a string suitable for inclusion in the references section of a scholarly publication. For example, when \texttt{mypaper} referred to \texttt{sep} in the example, the actual value assigned was ``September''. Some objects, such as \texttt{mypaper}, will produce entire bibliography entries when referred to. In fact, when generating bibliographies, \texttt{crosstex} simply prints out the string representations of all the objects cited in the document.  Each object takes note of options passed into CrossTeX and generates a string representation accordingly.

Simple, named objects, such as \texttt{month}, \texttt{location}, \texttt{author}, and others, have two forms: A long form and a short form. The object \texttt{sep} could be defined:

\begin{small}\begin{verbatim}
@month{sep,
  name = "September",
  shortname = "Sept."
}
\end{verbatim}\end{small}

By default, long names are used when generating bibliographic entries. If, however, the option \texttt{--short month} were given, the same month object would be shown as ``Sept.'' instead of ``September''. If only a name (no shortname) is specified, or, conversely, if only a shortname but no name is specified, the name given will be used in all cases. All named objects follow this pattern.

However, because person names are so complicated, \texttt{author} objects are somewhat magical. If \texttt{--short author} is specified, authors will be represented with initials and a last name---the object \texttt{egs} would be represented ``E. G. Sirer''. If a \texttt{shortname} field is explicitly given for an author, that takes precedence and can be used for special cases. 
By default, \XTeX{} is aware of many kinds of names and can correctly handle suffixes and last name modifiers such as Jr., Sr., III, IV, von, van, de, bin, and ibn. Just write the names out in full in their natural order, and \XTeX{} will render them properly, including such entries as:

\begin{small}\begin{verbatim}
@author{rvr, name = "Robbert van Renesse"}
@author{ldv, name = "Louis de Vargas, III"}
\end{verbatim}\end{small}

The \texttt{author} field is also somewhat special. Users of \BibTeX{} are familiar with specifying multiple authors as follows:

\begin{small}\begin{verbatim}
@inproceedings{credence,
  title = "{Experience with an Object
            Reputation System for 
            Peer-to-Peer Filesharing}",
  author = "Kevin Walsh and Emin {G\"un} Sirer",
  ...
}
\end{verbatim}\end{small}

Having looked up the rather non-trivial escape sequence to get the umlaut 
correct, and having made sure that all names are spelled correctly, there
is no need to repeat or cut-and-paste the same information over and over
again. The following sequence has the same effect as the previous one, 
and is much easier to maintain:


\begin{small}\begin{verbatim}
@author{kwalsh, name = "Kevin Walsh"}
@author{egs, name = "Emin {G\"un} Sirer"}
@inproceedings{credence,
  title = "{Experience with an Object
            Reputation System for 
            Peer-to-Peer Filesharing}",
  author = "kwalsh and egs",
  ...
}
\end{verbatim}\end{small}

In all other contexts, string literals and object references are quite different: \texttt{month = sep} refers to the \texttt{sep} object, which carries additional fields and is rendered differently depending on the context and options, while \texttt{month = "sep"} always generates the literal string ``sep''.

\subsection{Under the hood: References}

Referring to an object, as in \texttt{month = sep}, assigns the stringified value of the object \texttt{sep}, in this case ``September'', to the \texttt{month} field of the object. In addition, it triggers something else to happen after all the fields have been assigned: Any required or optional fields in the referring object that do not yet have values will try to inherit them from the referenced object \texttt{sep}, if it has them. The actual \texttt{month} objects defined in the included \texttt{dates.xtx}, for example, define \texttt{monthno} fields in addition to their names. This value will be pulled along into objects that refer to months, enabling such objects to be sorted by month number easily. Power-users of \BibTeX{} will note that this mechanism is essentially equivalent to the \texttt{crossref} field in \BibTeX{}. The main difference here is that \XTeX{} supports this mechanism in a uniform manner across all object fields.

This can be combined with a new, advanced feature of \XTeX{}, conditional fields, to greatly simplfy object specifications. Here is an example:

\begin{small}\begin{verbatim}
@conference{nsdi,
  shortname = "NSDI",
  longname = "Symposium on Networked System Design and Implementation", 
  [year=2006] address=SanJose, month=may,
  [year=2005] address=Boston, month=may,
  [year=2004] address=SF, month=mar,
}
\end{verbatim}\end{small}

This is a simple \texttt{conference} object whose short name is "NSDI"
and long name is "Symposium on Networked System Design and
Implementation". In addition, it carries some conditional fields; that is, 
fields that are included in the object only if they match the data in the
referring context. For instance, if the \texttt{year} field of the referring object is equal to 2006, the nsdi object additionally has the fields \texttt{address=SanJose, month=may}. In a different year, a different conditional might be triggered. Any, all, or none of the conditionals mentioned may be appropriate (although obviously in this case, the year can only have one value).

By itself, conditional fields are not very useful; their value in 
simplifying object references becomes apparent when they are used
in context. Look at the following reference:

\begin{small}\begin{verbatim}
@inproceedings{credence,
  title = "Experience with an Object Reputation System for Peer-to-Peer Filesharing",
  author = "kwalsh and egs",
  booktitle = nsdi,
  year = 2006
}
\end{verbatim}\end{small}

Conditional fields defined in the \texttt{nsdi} object will define the
address and month fields of the conference based on the reference, 
and the resulting \texttt{credence} object will know that it occurred
in San Jose in May through inheritence. This allows paper citations
to avoid common errors by allowing all conference dates and locations
to be defined in one place, and inherited correctly, without typos,
by all papers that appeared at that conference. 

If one wanted to override field inheritence for whatever reason, it would suffice to specify, say, a different month for the \texttt{credence} object. Only those fields that are missing in the referring context are inherited. Thus explicitly assigned information has precedence.

\subsection{Managing databases}

Obviously, re-inventing \texttt{sep} and \texttt{SanJose} in every
database would be exhausting. Instead, like objects can be collected
together---for example, the standard \XTeX{} distribution provides 
\texttt{dates.xtx}, which defines English month names, and 
\texttt{locations.xtx}, which defines all locations at which a 
major computer science conference was held in the recent years.
Such modules can be includes with the \texttt{@include} primitive.
For example, here is a complete \texttt{.xtx}
file based on the standard \XTeX{} distribution:

\begin{small}\begin{verbatim}
@include conferences

@author{egs, name = "Emin {G\"un} Sirer"}
@author{kwalsh, name = "Kevin Walsh"}

@inproceedings{credence,
  title = "Experience with an Object Reputation System for Peer-to-Peer Filesharing",
  author = "kwalsh and egs",
  booktitle = nsdi,
  year = 2006
}
\end{verbatim}\end{small}

This will search for \texttt{conferences.xtx} or \texttt{conferences.bib} and include it in the appropriate place before parsing the rest of the file. \XTeX{} by default looks in a standard system directory and the current directory; additional search paths can be specified with the \texttt{--dir} option. The standard \texttt{conferences.xtx} begins:

\begin{small}\begin{verbatim}
@include dates
@include locations

...
\end{verbatim}\end{small}

Thus, the \texttt{credence} object has access to well-defined locations, dates, and conference names.

\XTeX{} always includes the \texttt{dates} bibliography first, for backwards compatibility with \BibTeX{}.

It is possible for the same object to be defined multiple times under the 
same key (sometimes, this is inevitable when there are multiple bibliographic
databases involved maintained by different entities). By default, \XTeX{}
will silently ignore such definitions as long as all versions of the object
are identical. When two separate objects defined under the same key are not
identical, it points to an inconsistency in the bibliographic database, which
will cause \XTeX{} to issue a warning. Passing \XTeX{} the \texttt{--strict} flag will force it to issue such warnings even when the objects are identical,
to help facilitate people who might want to maintain databases free of
duplicate entries.

Recall that \XTeX{} enables an object to appear under multiple keys. 
This aliasing can be done for any object and can be used anywhere in
the database. The \texttt{.tex} file can cite any object by any one of
its synonymous keys. There is a strange quirk with the use of
synonymous keys stemming from a design error in LaTeX, which users
should keep in mind: If a \texttt{.tex} file cites a paper with
citation keys name1 and name2 twice, under both keys, the reference
will appear twice in the produced bibliography. As a result, feel free
to use any one of the tags to cite papers, but it's not a good idea to
use more than one tag to refer to a citation within a given paper.
(\XTeX{} will issue a warning if an entry would be duplicated.)

When databases get exceptionally long and many elements have very similar fields---e.g., they are all in the same conference or have the same informative \texttt{category} field---you can make use of another special \XTeX{} command, \texttt{@default}. For example, here is the beginning of the \texttt{usenix.xtx} database:

\begin{small}\begin{verbatim}
@include conferences

@inproceedings{DBLP:conf/usenix/RuanP04,
  author    = {Yaoping Ruan and
               Vivek S. Pai},
  title     = {Making the "Box" Transparent: System Call Performance as
               a First-Class Result},
  booktitle = usenixg,
  year      = 2004,
  pages     = {1-14},
  ee        = {http://www.usenix.org/publications/library/proceedings/usenix04/t
ech/general/ruan.html},
  bibsource = {DBLP, http://dblp.uni-trier.de}
}

@inproceedings{DBLP:conf/usenix/CantrillSL04,
  author    = {Bryan Cantrill and
               Michael W. Shapiro and
               Adam H. Leventhal},
  title     = {Dynamic Instrumentation of Production Systems},
  booktitle = usenixg,
  year      = 2004,
  pages     = {15-28},
  ee        = {http://www.usenix.org/publications/library/proceedings/usenix04/t
ech/general/cantrill.html},
  bibsource = {DBLP, http://dblp.uni-trier.de}
}

...
\end{verbatim}\end{small}

With \texttt{@default}, it could be shortened:

\begin{small}\begin{verbatim}
@include conferences

@default booktitle = usenixg
@default year = 2004
@default bibsource = {DBLP, http://dblp.uni-trier.de}

@inproceedings{DBLP:conf/usenix/RuanP04,
  author    = {Yaoping Ruan and
               Vivek S. Pai},
  title     = {Making the "Box" Transparent: System Call Performance as
               a First-Class Result},
  pages     = {1-14},
  ee        = {http://www.usenix.org/publications/library/proceedings/usenix04/t
ech/general/ruan.html},
}

@inproceedings{DBLP:conf/usenix/CantrillSL04,
  author    = {Bryan Cantrill and
               Michael W. Shapiro and
               Adam H. Leventhal},
  title     = {Dynamic Instrumentation of Production Systems},
  pages     = {15-28},
  ee        = {http://www.usenix.org/publications/library/proceedings/usenix04/t
ech/general/cantrill.html},
}

...
\end{verbatim}\end{small}

Later in the file are entries with different years. A new \texttt{@default} command takes precedence over the first:

\begin{small}\begin{verbatim}
...

@default year = 2003

@inproceedings{DBLP:conf/usenix/PadioleauR03,
  author    = {Yoann Padioleau and
               Olivier Ridoux},
  title     = {A Logic File System},
  pages     = {99-112},
  ee        = {http://www.usenix.org/events/usenix03/tech/padioleau.html},
}

@inproceedings{DBLP:conf/usenix/DouglisI03,
  author    = {Fred Douglis and
               Arun Iyengar},
  title     = {Application-specific Delta-encoding via Resemblance Detection},
  pages     = {113-126},
  ee        = {http://www.usenix.org/events/usenix03/tech/douglis.html},
}

...
\end{verbatim}\end{small}

As with field values inherited from references objects, field values
inherited from \texttt{default} definitions have lower precedence. Any
object that explicitly assigns a value to a field will override any 
\texttt{default} definitions in effect at that point in the bibliography.



\section{Inside the \texttt{.tex} file}

The \texttt{.tex} source file never needs to know you're using \XTeX{}, because it is completely backwards compatible. The \texttt{\textbackslash{}bibliographystyle\{\textrm{\textit{foo}}\}} command will cause the equivalent of the command-line option \texttt{--style \textrm{\textit{foo}}}.

However, the \texttt{\textbackslash{}bibliographystyle} command can cause other magic as well. Arbitrary command line options may be specified after the style name, separated by commas. For example:

\begin{small}\begin{verbatim}
\bibliographystyle{plain,--add-in,--add-proceedings,--short,author}
\end{verbatim}\end{small}

This allows documents to have fine-grained control over styling. Run-time options will still take precedence over document defaults.



\section{Extending \XTeX{}}
\label{extending}

\XTeX{} is designed to be easy to extend with very trivial knowledge of Python. Before continuing, it is very important to have a look at the standard object types and fields in Section~\ref{objects}, which are already supported by \XTeX{}. New objects or fields are defined by editing the file \texttt{crosstexobjects.py}, which is typically installed in \texttt{/usr/share/texmf/crosstex}.

To create a new field for a particular object type, find its definition (e.g., the section defining the \texttt{string} object begins \texttt{class string}). Most objects already define some fields; simply copy that syntax for your own field. If a field is assigned \texttt{None} to begin with, it will be required; by assigning it some default value, even the empty string, it becomes optional.

To make an optional field required or a required field optional, simply assign it \texttt{None} or some default, respectively, in the class where you want the change.

To create an entirely new class \textit{foo} which is identical to a current one named \textit{bar}, add the following to the end of \texttt{crosstexobjects.py}.

\begin{small}\begin{verbatim}
class foo(misc):
    pass
\end{verbatim}\end{small}

If \textit{foo} should have different required or optional fields form \textit{bar}, define them as noted above. (The \texttt{pass} is only necessary if the body of the \texttt{class} definition is empty, e.g. it does not set the values of any fields.)

If you are more advanced at Python programming and want to change the behavior of objects, simply look at the ones that exist. The string value of an object is obtained, appropriately enough, from its \texttt{\_\_str\_\_} method, should you want to change the appearance of any objects. Similarly, every object has access to an \texttt{\_options} member containing the options set on the command line.

Happy hacking!



\section{Standard object types}
\label{objects}

These are the kinds of objects \XTeX{} knows about by default. For information about extending this notion, see Extending \XTeX{} in Section~\ref{extending}.

\begin{description}

\item[\texttt{string}]
\textsc{Required:} \texttt{name} and/or \texttt{shortname} (\texttt{longname} is an alias for \texttt{name}.)
\textsc{Relevant arguments:} \texttt{--short}

\item[\texttt{author}] As \texttt{string}, except:
\textsc{Optional:} \texttt{address}, \texttt{affiliation}, \texttt{email}, \texttt{institution}, \texttt{organization}, \texttt{phone}, \texttt{school}, \texttt{url}

\item[\texttt{state}] As \texttt{string}, except:
\textsc{Optional:} \texttt{country}

\item[\texttt{country}] As \texttt{string}.

\item[\texttt{location}]
\textsc{Optional:} \texttt{city}, \texttt{state}, \texttt{country}

\item[\texttt{month}] As \texttt{string}.

\item[\texttt{journal}] As \texttt{string}.

\item[\texttt{misc}]
\textsc{Optional:}
\texttt{abstract},
\texttt{address},
\texttt{affiliation},
\texttt{annote},
\texttt{author},
\texttt{bib},
\texttt{bibsource},
\texttt{booktitle},
\texttt{category},
\texttt{chapter},
\texttt{contents},
\texttt{copyright},
\texttt{crossref},
\texttt{doi},
\texttt{dvi},
\texttt{edition},
\texttt{editor},
\texttt{ee},
\texttt{ftp},
\texttt{howpublished},
\texttt{html},
\texttt{http},
\texttt{institution},
\texttt{isbn},
\texttt{issn},
\texttt{journal},
\texttt{key},
\texttt{keywords},
\texttt{language},
\texttt{lccn},
\texttt{location},
\texttt{month},
\texttt{monthno},
\texttt{mrnumber},
\texttt{note},
\texttt{number},
\texttt{organization},
\texttt{pages},
\texttt{pdf},
\texttt{price},
\texttt{ps},
\texttt{publisher},
\texttt{rtf},
\texttt{school},
\texttt{series},
\texttt{size},
\texttt{title},
\texttt{type},
\texttt{url},
\texttt{volume},
\texttt{year}
\textsc{Relevant arguments:} \texttt{--cite-by}, \texttt{--titlecase}, \texttt{--link}, \texttt{--abstract}, \texttt{--keywords}

\item[\texttt{article}] As \texttt{misc}, except:
\textsc{Required:} \texttt{author}, \texttt{title}, \texttt{journal}, \texttt{year}
\textsc{Relevant arguments:} \texttt{--add-in}

\item[\texttt{book}] As \texttt{misc}, except:
\textsc{Required:} \texttt{author} and/or \texttt{editor}, \texttt{title}, \texttt{publisher}, \texttt{year}

\item[\texttt{booklet}] As \texttt{misc}, except:
\textsc{Required:} \texttt{title}

\item[\texttt{inbook}] As \texttt{misc}, except:
\textsc{Required:} \texttt{author} and/or \texttt{editor}, \texttt{title}, \texttt{chapter} and/or \texttt{pages}, \texttt{publisher}, \texttt{year}

\item[\texttt{incollection}] As \texttt{misc}, except:
\textsc{Required:} \texttt{author}, \texttt{title}, \texttt{booktitle}, \texttt{publisher}, \texttt{year}

\item[\texttt{inproceedings}] As \texttt{misc}, except:
\textsc{Required:} \texttt{author}, \texttt{title}, \texttt{booktitle}, \texttt{year}
\textsc{Relevant arguments:} \texttt{--add-proceedings}, \texttt{--add-proc}

\item[\texttt{manual}] As \texttt{misc}, except:
\textsc{Required:} \texttt{title}

\item[\texttt{thesis}] As \texttt{misc}, except:
\textsc{Required:} \texttt{author}, \texttt{title}, \texttt{school}, \texttt{year}

\item[\texttt{mastersthesis}] As \texttt{thesis}.

\item[\texttt{phdthesis}] As \texttt{thesis}.

\item[\texttt{patent}] As \texttt{misc}.

\item[\texttt{proceedings}] As \texttt{misc}, except:
\textsc{Required:} \texttt{title}, \texttt{year}

\item[\texttt{collection}] As \texttt{proceedings}.

\item[\texttt{techreport}] As \texttt{misc}, except:
\textsc{Required:} \texttt{author}, \texttt{title}, \texttt{institution}, \texttt{year}

\item[\texttt{unpublished}] As \texttt{misc}, except:
\textsc{Required:} \texttt{author}, \texttt{title}, \texttt{note}

\item[\texttt{conference}] As \texttt{string}, except:
\textsc{Optional:}
\texttt{address},
\texttt{crossref},
\texttt{editor},
\texttt{institution},
\texttt{isbn},
\texttt{key},
\texttt{keywords},
\texttt{language},
\texttt{location},
\texttt{month},
\texttt{publisher},
\texttt{url},
\texttt{year}

\item[\texttt{conferencetrack}] As \texttt{conference}, except:
\textsc{Optional:} \texttt{conference}

\item[\texttt{workshop}] As \texttt{conferencetrack}.

\item[\texttt{rfc}] As \texttt{misc}, except:
\textsc{Required:} \texttt{author}, \texttt{title}, \texttt{number}, \texttt{month}, \texttt{year}

\end{description}

\end{document}
